extends layout

append head
  link(rel="stylesheet" href="/stylesheets/index.css")
  link(rel="stylesheet" href="/stylesheets/nav-question.css")
  script(src="/javascripts/index.js" type="module" defer)

block content
  div(id='welcome_container')
    p(class='welcome-user') #{locals.user.user_name}
    h1(class='my-questions-title')= title
  div(class='questions-container')
    if myQuestions && myQuestions.length > 0
      each question in myQuestions
        div(id=`question-container-${question.id}` class='question-container')
          div(class='question-offset')
            div(class='user-text')
              p(class='userName')= question.User.user_name
              p(class='date')= question.date
            div(class='question-text')
              a(href=`/questions/${question.id}`) #{question.title}
            div(class='question-buttons')
              div(class='vote-section')
                button(class='upvote-question-button' id= `${question.id}`)
                  i(class="fa fa-thumbs-up")
                div(class='vote_holder voteNum')= question.Questions_votes.length
              //- button(class="edit-question-button") 
              //-   i(class="fas fa-edit")
              button(class='delete-question-button' id= `${question.id}`)
                i(class="fas fa-trash-alt")
          div(class='answer-container')
            if question.Answers && question.Answers.length > 0
              each answer in question.Answers
                div(class='answer-container')
                  div(class='user-text')
                    p(class='userName')= answer.User.user_name
                    p(class='date')= answer.date
                  div(class='answer-text')= answer.content
                  div(class='answer-buttons')
                    div(class='vote-section')
                      button(class='upvote-answer-button' id=`UQ/${answer.id}`)
                        i(class="fa fa-thumbs-up")
                      div(class='voteNum' id=`answer-vote-holder-UQ/${answer.id}`)= answer.Answers_votes.length
